# 数据库系统概论大作业

## 使用方法

### 构建

依赖：

- [CMake](https://cmake.org/)

使用如下命令行构建数据库管理系统：

```bash
> cd dbms
> mkdir build
> cd build
> cmake ..
> make
```

## 模块说明

### 文件

TODO

### 表

一张表在其数据库目录下对应一个文件夹，下有：

- 元数据文件 `metatdata.tbl`
- 数据文件夹，`data/`：
  - 下有各列的的数据，名为 `${colName}.db`。大小定长，顺序存放；
- 编号栈 `id.stk`；
- 主键索引文件 `primary.idx`；
- 索引文件夹 `index/`：
  - 下有各列的索引，为 `${colName}.idx`

#### 元数据

| 项目     | 大小（字节） | 数量     |
| -------- | ------------ | -------- |
| 列数     | 1            | 1        |
| 列定义   | 56           | $\le 20$ |
| 记录大小 | 4            | 1        |
| 记录条数 | 4            | 1        |
| 主键     | 166          | 1        |
| 外键数量 | 4            | 1        |
| 外键定义 | 396          | 不知道   |


